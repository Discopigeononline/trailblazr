<div class="container d-flex justify-content-between w-100">
  <div class="col-8 mx-3">
    <div class="container">
      <h1 class="my-3"><%= @itinerary.title %></h1>
      <%# collaborations %>
      <div>
        <p><strong>TrailBlazrs: </strong></p>

    <%# collaborations %>
    <div>
      <p><strong>Collaborators: </strong></p>
      <% @itinerary.users.each do |user| %>
        <div>
          <i class="fa-solid fa-user"></i><%= " #{user.first_name} #{user.last_name}" %>
        </div>
      <% end %>

      <%# <% @itinerary.collaborations.each do |collaboration|%>
        <%# <p>
          <% if collaboration.role == "admin" %>
            <%# <i class="fa-solid fa-user"></i> <%= collaboration.email - <%= collaboration.role %>
          <%# <% else %>
            <%# <i class="fa-solid fa-user fa-2xs"></i> <%= "#{collaboration.email}" - <%= collaboration.role %>
            <%# <%= link_to collaboration_path(collaboration), method: :delete, data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' } do %>
              <%# <i class="fas fa-trash"></i>
            <% end %>
          <%# <% end %>
        <%# </p>
      <% end %><br>

      <% if current_user == @owner %>
        <%= render "itineraries/collaboration_form" %>
        <div class="d-flex justify-content-start">
          <%# Hide the links for unauthorized users: %>
          <% if policy(@itinerary).edit? %>
            <%= link_to "Edit this itinerary", edit_itinerary_path(@itinerary), class: "btn btn-success me-3" %>
          <% end %>
          <% if policy(@itinerary).destroy? %>
            <%= button_to "Destroy this itinerary", @itinerary, method: :delete, class: "btn btn-danger me-3", data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
          <% end %>
        </div>
      <% end %>



    </div>
  </div>
  <div>
    <%= render "itineraries/chat" %>
  </div>
</div>

<%# TO MAKE A _PATH %>
<%# => prefix_path %>
<%# a. if the url you are trying to build has no ids, this is enough %>
<%# example: itineraries_path  %>
<%# b. if the url you are trying to build needs an id, you need to pass the instance as an argument %>
<%# example: itinerary_collaborations_path(@itinerary) %>
<%#  is going to create a url like: /itineraries/40/collaborations %>
